import{_ as k,r as u,o as h,c as _,a as c,b as r,w as n,d as e,j as m,k as f,f as $}from"./index.8b1fc5cb.js";const g={name:"Dashboard",data(){return{checkSuccess:!1}},mounted(){this.checkLogin()},methods:{checkLogin(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(o){this.$http.defaults.headers.common.Authorization=`${o}`;const t="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(t,{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(a=>{alert(a.response.data.message),this.$router.push("/login")})}else alert("\u60A8\u5C1A\u672A\u767B\u5165\u3002"),this.$router.push("/login")},signout(){document.cookie="hexToken=;expires=;",alert("token \u5DF2\u6E05\u9664"),this.$router.push("/login")}}},v=c("h1",null,"\u4F60\u73FE\u5728\u5728\u5F8C\u53F0\u9801\u9762",-1),x={id:"nav"};function w(o,t,a,V,d,i){const s=u("router-link"),l=u("router-view");return h(),_("div",null,[v,c("div",x,[r(s,{to:"/"},{default:n(()=>[e("\u56DE\u5230\u524D\u53F0")]),_:1}),e(" | "),r(s,{to:"/admin/products"},{default:n(()=>[e("\u5F8C\u53F0\u7522\u54C1\u5217\u8868")]),_:1}),e(" | "),r(s,{to:"/admin/orders"},{default:n(()=>[e("\u5F8C\u53F0\u8A02\u55AE")]),_:1}),e(" | "),c("a",{href:"#",onClick:t[0]||(t[0]=m((...p)=>i.signout&&i.signout(...p),["prevent"]))},"\u767B\u51FA")]),d.checkSuccess?(h(),f(l,{key:0})):$("",!0)])}const C=k(g,[["render",w]]);export{C as default};
