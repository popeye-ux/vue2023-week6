import{_,o as s,c as n,a as t,i as p,j as u,F as h,h as g,t as c,r as k,d as P,b as f}from"./index.09ac577c.js";const v={props:["pages"],methods:{updatePage(r){this.$emit("emitPages",r)}}},x={"aria-label":"Page navigation example"},b={class:"pagination justify-content-center"},y=t("span",{"aria-hidden":"true"},"\xAB",-1),$=[y],C={key:0,class:"page-link"},w=["onClick"],N=t("span",{"aria-hidden":"true"},"\xBB",-1),B=[N];function E(r,o,e,m,l,d){return s(),n("nav",x,[t("ul",b,[t("li",{class:p([{disabled:!e.pages.has_pre},"page-item"])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:o[0]||(o[0]=u(a=>d.updatePage(e.pages.current_page-1),["prevent"]))},$)],2),(s(!0),n(h,null,g(e.pages.total_pages,a=>(s(),n("li",{class:p(["page-item",{active:e.pages.current_page===a}]),key:a},[a===e.pages.current_page?(s(),n("span",C,c(a),1)):(s(),n("a",{key:1,class:"page-link",href:"#",onClick:u(i=>d.updatePage(a),["prevent"])},c(a),9,w))],2))),128)),t("li",{class:p(["page-item",{disabled:!e.pages.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:o[1]||(o[1]=u(a=>d.updatePage(e.pages.current_page+1),["prevent"]))},B)],2)])])}const V=_(v,[["render",E]]),j={name:"Products",props:["token"],data(){return{products:[],pagination:{}}},components:{Pagination:V},methods:{getProducts(r=1){const o=`https://vue3-course-api.hexschool.io/v2/api/coldplay/admin/products?page=${r}`;this.$http.get(o).then(e=>{this.products=e.data.products,this.pagination=e.data.pagination}).catch(e=>{alert(e.response.data.message)})}},mounted(){this.getProducts()}},D={class:"table mt-4"},F=t("thead",null,[t("tr",null,[t("th",{width:"120"},"\u5206\u985E"),t("th",null,"\u7522\u54C1\u540D\u7A31"),t("th",{width:"120"},"\u539F\u50F9"),t("th",{width:"120"},"\u552E\u50F9"),t("th",{width:"100"},"\u662F\u5426\u555F\u7528")])],-1),z={class:"text-end"},L={class:"text-end"},M={key:0,class:"text-success"},S={key:1};function T(r,o,e,m,l,d){const a=k("Pagination");return s(),n("div",null,[P(" \u9019\u88E1\u662F \u5F8C\u53F0 \u7522\u54C1\u5217\u8868 "),t("table",D,[F,t("tbody",null,[(s(!0),n(h,null,g(l.products,i=>(s(),n("tr",{key:i.id},[t("td",null,c(i.category),1),t("td",null,c(i.title),1),t("td",z,c(i.origin_price),1),t("td",L,c(i.price),1),t("td",null,[i.is_enabled?(s(),n("span",M,"\u555F\u7528")):(s(),n("span",S,"\u672A\u555F\u7528"))])]))),128))])]),f(a,{pages:l.pagination,onEmitPages:d.getProducts},null,8,["pages","onEmitPages"])])}const A=_(j,[["render",T]]);export{A as default};
